
<div class="header">
    <h1 class="text-center heading1">Home and Vehilce loans</h1>
    <h2 class="text-center heading2">Please fill all details to apply for a loan</h2>
</div>

<div class="container mt-5">
    <!-- <button class="btn btn-primary back-button" (click)="goBack()"><fa-icon [icon]="faDoorClosed" class="close-icon"></fa-icon> Back to services</button> -->
  
    <div class="form">
        <form id="userInputForm" class="mt-3" [formGroup]="loanform"  (ngSubmit)="onSubmit()">

            <div class="form-group">
                <div class="input-fields">
                <label for="Userid">User id</label>
                <input formControlName="userid" type="number" class="form-control" id="userid" name="userid" required (focusout)="validateUserId()">
                </div>
                <div class="error" id="userIdError" [hidden]="!loanform.get('userid')?.hasError('required') ||!loanform.get('userid')?.touched">
                        User id is required
                </div>
                <div class="error" [hidden]="!loanform.get('userid')?.hasError('userIdInvalid') || !loanform.get('userid')?.touched">User not exist.</div>

                <!-- <div class="error" id="usernotexist"></div> -->
            </div>
                

            <div class="form-group">
                <div class="input-fields">
                <label for="occupation">Occupation:</label>
                <input formControlName="occupation" type="text" class="form-control" id="occupation" name="occupation">
                </div>
                <div *ngIf="loanform.get('occupation')?.invalid && loanform.get('occupation')?.touched" class="error occupationerror">Occupation is required.</div>
            </div>
            
            <div class="form-group">
                <div class="input-fields">
                <label for="pancard">PAN Card:</label>
                <input formControlName="pannumber" type="text" class="form-control" id="pancard" name="pancard" required (focusout)="validatePAN()">
                    <div class="error" id="panError" [hidden]="!loanform.get('pannumber')?.hasError('required') ||!loanform.get('pannumber')?.touched">
                        PAN card number is required
                    </div>
                    <div class="error" id="panValidation" [hidden]="!loanform.get('pannumber')?.hasError('pattern') ||!loanform.get('pannumber')?.touched">
                        PAN value is not valid
                    </div>
                    <div class="error" id="panInvalidError" [hidden]="!loanform.get('pannumber')?.hasError('panInvalid') ||!loanform.get('pannumber')?.touched">
                        PAN not matched with the userid.
                    </div>
                
                </div>
                    
            </div>



            <div class="form-group">
                <div class="input-fields">
                <label for="loanType">Loan Type:</label>
                <select formControlName="loantype" class="form-control" id="loanType" name="loanType" required>
                    <option value="" disabled selected>Select loan type</option>
                    <option value="homeLoan">Home Loan</option>
                    <option value="vehicleLoan">Vehicle Loan</option>
                    <!-- Add more loan types here if needed -->
                </select>
                </div>
                <div *ngIf="loanform.get('loantype')?.invalid && loanform.get('loantype')?.touched" class="error loantypeerror">Loantype is required.</div>
            </div>
            
            <button [disabled]="loanform.invalid" type="submit" class="btn btn-primary submit">Submit</button>
        </form>
    </div>
  </div>

